(window.webpackJsonp=window.webpackJsonp||[]).push([[34],{518:function(a,s,t){"use strict";t.r(s);var e=t(4),l=Object(e.a)({},(function(){var a=this,s=a.$createElement,t=a._self._c||s;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("h2",{attrs:{id:"下载-mysql-源安装包"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#下载-mysql-源安装包"}},[a._v("#")]),a._v(" 下载 mysql 源安装包")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",[t("code",[a._v("wget http://dev.mysql.com/get/mysql57-community-release-el7-8.noarch.rpm\n")])])]),t("h2",{attrs:{id:"安装-mysql-源"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#安装-mysql-源"}},[a._v("#")]),a._v(" 安装 mysql 源")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",[t("code",[a._v("yum localinstall mysql57-community-release-el7-8.noarch.rpm\n")])])]),t("h2",{attrs:{id:"检查-mysql-源是否安装成功"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#检查-mysql-源是否安装成功"}},[a._v("#")]),a._v(" 检查 mysql 源是否安装成功")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",[t("code",[a._v('shell> yum repolist enabled | grep "mysql._-community._"\n')])])]),t("h2",{attrs:{id:"安装-mysql"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#安装-mysql"}},[a._v("#")]),a._v(" 安装 MySQL")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",[t("code",[a._v("yum install mysql-community-server\n")])])]),t("h2",{attrs:{id:"查看-mysql-启动状态"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#查看-mysql-启动状态"}},[a._v("#")]),a._v(" 查看 mysql 启动状态")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",[t("code",[a._v("systemctl status mysqld\n")])])]),t("p",[a._v("mysql 安装完成之后，在/var/log/mysqld.log 文件中给 root 生成了一个默认密码。通过下面的方式找到 root 默认密码，然后登录 mysql 进行修改：")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",[t("code",[a._v("grep 'temporary password' /var/log/mysqld.log\n")])])]),t("p",[a._v("： 号后面即为临时密码")]),a._v(" "),t("h2",{attrs:{id:"链接-mysql"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#链接-mysql"}},[a._v("#")]),a._v(" 链接 mysql")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",[t("code",[a._v("mysql -uroot -p\n")])])]),t("h2",{attrs:{id:"修改密码"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#修改密码"}},[a._v("#")]),a._v(" 修改密码")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",[t("code",[a._v("mysql> set password for 'root'@'localhost'=password('MyNewPass4!');\n")])])]),t("h2",{attrs:{id:"通过-msyql-环境变量可以查看密码策略的相关信息"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#通过-msyql-环境变量可以查看密码策略的相关信息"}},[a._v("#")]),a._v(" 通过 msyql 环境变量可以查看密码策略的相关信息：")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",[t("code",[a._v("mysql> show variables like '%password%';\n\nvalidate_password_policy：密码策略，默认为 MEDIUM 策略\nvalidate_password_dictionary_file：密码策略文件，策略为 STRONG 才需要\nvalidate_password_length：密码最少长度\nvalidate_password_mixed_case_count：大小写字符长度，至少 1 个\nvalidate_password_number_count ：数字至少 1 个\nvalidate_password_special_char_count：特殊字符至少 1 个\n")])])]),t("h2",{attrs:{id:"初始的密码长度必须不小于-8-位-需要修改成合适的位数"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#初始的密码长度必须不小于-8-位-需要修改成合适的位数"}},[a._v("#")]),a._v(" 初始的密码长度必须不小于 8 位 需要修改成合适的位数")]),a._v(" "),t("p",[a._v("首先，修改 validate_password_policy 参数的值")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",[t("code",[a._v("mysql> set global validate_password_policy=0;\n\nset global validate_password_length=1;\n\nmysql> SHOW VARIABLES LIKE 'validate_password%';\n+--------------------------------------+-------+\n| Variable_name | Value |\n+--------------------------------------+-------+\n| validate_password_dictionary_file | |\n| validate_password_length | 6 |\n| validate_password_mixed_case_count | 2 |\n| validate_password_number_count | 1 |\n| validate_password_policy | LOW |\n| validate_password_special_char_count | 1 |\n+--------------------------------------+-------+\n")])])]),t("h2",{attrs:{id:"创建新用户"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#创建新用户"}},[a._v("#")]),a._v(" 创建新用户")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",[t("code",[a._v("create user username 用户名 [@host 访问者地址][identified by \"password密码\"]\nhost 可用%通配\n\neg:CREATE USER 'username'@'host' IDENTIFIED BY 'password';\n")])])]),t("h2",{attrs:{id:"为用户赋予权限"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#为用户赋予权限"}},[a._v("#")]),a._v(" 为用户赋予权限")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",[t("code",[a._v("grant privitages 权限 on database 数据库名.table 表名 to username 用户名[@host 访问者地址]\nprivitages 可用 all 通配\ndatabase、table 可用\\*通配\nhost 可用%通配\n\nGRANT privileges ON databasename.tablename TO 'username'@'host'\n\nGRANT ALL ON _._ TO 'pig'@'%';\n")])])]),t("h2",{attrs:{id:"导出数据库"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#导出数据库"}},[a._v("#")]),a._v(" 导出数据库")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",[t("code",[a._v("mysqldump -h hostname -u username -ntd -R databasename > backupflie.sql （包括存过过程和函数一次性完整导出）\n")])])]),t("p",[a._v("其中的 -ntd 是表示导出表结构和数据；-R 是表示导出函数、存储过程")]),a._v(" "),t("comment")],1)}),[],!1,null,null,null);s.default=l.exports}}]);